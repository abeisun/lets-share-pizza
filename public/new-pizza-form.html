<!DOCTYPE html>

<html>

<head>
	<title>Slice Request</title>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
	<h1>New order!</h1>
	<div class = "new-order">
		<form id = "new_form">
			<!--Name: <input type = "text" name = "input" value = ""/></br></br>-->
			<!--Contact Info: <input type = "text" name = "input" value = ""/></br></br>-->
			Number of slices: <input type = "text" name = "input" value = ""/></br></br>
			Pizza Shop Name: <input type = "text" name = "input" value = ""/></br></br>
			Toppings: <input type = "text" name = "input" value = ""/></br></br>
			Your Name: <input type = "text" name = "input" value = ""/></br></br>
		    Phone Number: <input type = "text" name = "input" value = ""/></br></br>

		</form>

		<button onclick="loadData()" type= "button" class= "btn btn-default" role = "button">submit request</button>

	</div>

	<script type="text/javascript">


		function loadData()
		{
			//var slice_info =[];
			var form = document.getElementById("new_form");
			console.log(form);
			var numSlices = form.elements[0].value;
			var pizzaShopName = form.elements[1].value;
            var toppings = form.elements[2].value;
			console.log("psn: " + pizzaShopName + "    numslices: " + numSlices)
			url = "https://lets-share-pizza.herokuapp.com/startOrder";
            var contact = { 'name': form.elements[3].value, 'phoneNumber': form.elements[4].value };
			$.post(url, {'numSlices': numSlices, 'pizzaShopName': pizzaShopName, 'toppings': toppings, 'contactInfo': [ contact ], 'coordinates': [50, -40] });
		}
	</script>
</body>

</html>
